{"ast":null,"code":"import _objectSpread from\"/Users/rahimhamadou/Desktop/react-blog-base/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/rahimhamadou/Desktop/react-blog-base/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useRef}from\"react\";import{useDispatch}from\"react-redux\";import\"./Form.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function AddArticle(){// declaration state (objet)\nvar _useState=useState({title:\"\",body:\"\"}),_useState2=_slicedToArray(_useState,2),article=_useState2[0],setArticle=_useState2[1];// envoie des données vers le store\nvar dispatch=useDispatch();// gestion du form par fn\nvar handleForm=function handleForm(e){// bloque le reload\ne.preventDefault();// send to store\n// si on useRef pour le form avant le dispatch\nvar newArticle={title:inputsRef.current[0],body:inputsRef.current[1]};dispatch({type:\"ADDARTICLE\",// si on useState pour le form\npayload:article// si on useRef pour le form\n// payload: newArticle,\n});setArticle({title:\"\",body:\"\"});// si on useRef pour le form, on reset les inputs\n// e.target.reset();\n};// gestion des inputs par fn\nvar handleInputs=function handleInputs(e){// si la cible a une class qui contient\nif(e.target.classList.contains(\"inp-title\")){// on cree un obj, a partir du state\nvar newObjState=_objectSpread(_objectSpread({},article),{},{title:e.target.value});// on remplace la prop  title de l'object article par le nouveau\nsetArticle(newObjState);}// si la cible a une class qui contient\nelse if(e.target.classList.contains(\"inp-body\")){// on remplace la prop  body de l'object article\nvar _newObjState=_objectSpread(_objectSpread({},article),{},{body:e.target.value});setArticle(_newObjState);}};var showState=function showState(){console.log(\"article\",article);// console.log(\"ref\", newArticle);\n};// use STATE FOR FORM\n// use REF FOR FORM\nvar inputsRef=useRef([]);var addRefs=function addRefs(el){// si l'el n'existe et n'est aps dans le tab de ref\nif(el&&!inputsRef.current.includes(el)){// on add el au tab de ref\ninputsRef.current.push(el);}};// use REF FOR FORM\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title-form\",children:\"Ecrire un Article\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleForm,className:\"container-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"Titre\"}),/*#__PURE__*/_jsx(\"input\",{ref:addRefs,className:\"inp-title\",onChange:handleInputs,value:article.title,type:\"text\",id:\"text\",placeholder:\"Entrez un Titre\",required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"article\",children:\"Votre article\"}),/*#__PURE__*/_jsx(\"textarea\",{ref:addRefs,className:\"inp-body\",onChange:handleInputs,value:article.body,type:\"text\",id:\"text\",placeholder:\"Votre Article\",required:true}),/*#__PURE__*/_jsx(\"button\",{onClick:showState,className:\"btn-form\",children:\"Poster l'article\"})]})]});}","map":{"version":3,"names":["React","useState","useRef","useDispatch","AddArticle","title","body","article","setArticle","dispatch","handleForm","e","preventDefault","newArticle","inputsRef","current","type","payload","handleInputs","target","classList","contains","newObjState","value","showState","console","log","addRefs","el","includes","push"],"sources":["/Users/rahimhamadou/Desktop/react-blog-base/src/Components/Form/Form.js"],"sourcesContent":["import React, { useState, useRef } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport \"./Form.css\";\n\nexport default function AddArticle() {\n\t// declaration state (objet)\n\tconst [article, setArticle] = useState({\n\t\ttitle: \"\",\n\t\tbody: \"\",\n\t});\n\n\t// envoie des données vers le store\n\tconst dispatch = useDispatch();\n\n\t// gestion du form par fn\n\tconst handleForm = (e) => {\n\t\t// bloque le reload\n\t\te.preventDefault();\n\t\t// send to store\n\n\t\t// si on useRef pour le form avant le dispatch\n\t\tconst newArticle = {\n\t\t\ttitle: inputsRef.current[0],\n\t\t\tbody: inputsRef.current[1],\n\t\t};\n\n\t\tdispatch({\n\t\t\ttype: \"ADDARTICLE\",\n\t\t\t// si on useState pour le form\n\t\t\tpayload: article,\n\t\t\t// si on useRef pour le form\n\t\t\t// payload: newArticle,\n\t\t});\n\t\tsetArticle({\n\t\t\ttitle: \"\",\n\t\t\tbody: \"\",\n\t\t});\n\n\t\t// si on useRef pour le form, on reset les inputs\n\t\t// e.target.reset();\n\t};\n\t// gestion des inputs par fn\n\tconst handleInputs = (e) => {\n\t\t// si la cible a une class qui contient\n\t\tif (e.target.classList.contains(\"inp-title\")) {\n\t\t\t// on cree un obj, a partir du state\n\t\t\tconst newObjState = { ...article, title: e.target.value };\n\t\t\t// on remplace la prop  title de l'object article par le nouveau\n\t\t\tsetArticle(newObjState);\n\t\t}\n\t\t// si la cible a une class qui contient\n\t\telse if (e.target.classList.contains(\"inp-body\")) {\n\t\t\t// on remplace la prop  body de l'object article\n\t\t\tconst newObjState = { ...article, body: e.target.value };\n\t\t\tsetArticle(newObjState);\n\t\t}\n\t};\n\n\tconst showState = () => {\n\t\tconsole.log(\"article\", article);\n\t\t// console.log(\"ref\", newArticle);\n\t};\n\n\t// use STATE FOR FORM\n\n\t// use REF FOR FORM\n\tconst inputsRef = useRef([]);\n\n\tconst addRefs = (el) => {\n\t\t// si l'el n'existe et n'est aps dans le tab de ref\n\t\tif (el && !inputsRef.current.includes(el)) {\n\t\t\t// on add el au tab de ref\n\t\t\tinputsRef.current.push(el);\n\t\t}\n\t};\n\n\t// use REF FOR FORM\n\treturn (\n\t\t<>\n\t\t\t<h1 className=\"title-form\">Ecrire un Article</h1>\n\t\t\t<form onSubmit={handleForm} className=\"container-form\">\n\t\t\t\t<label htmlFor=\"title\">Titre</label>\n\t\t\t\t<input\n\t\t\t\t\tref={addRefs}\n\t\t\t\t\tclassName=\"inp-title\"\n\t\t\t\t\tonChange={handleInputs}\n\t\t\t\t\tvalue={article.title}\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tid=\"text\"\n\t\t\t\t\tplaceholder=\"Entrez un Titre\"\n\t\t\t\t\trequired\n\t\t\t\t/>\n\t\t\t\t<label htmlFor=\"article\">Votre article</label>\n\t\t\t\t<textarea\n\t\t\t\t\tref={addRefs}\n\t\t\t\t\tclassName=\"inp-body\"\n\t\t\t\t\tonChange={handleInputs}\n\t\t\t\t\tvalue={article.body}\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tid=\"text\"\n\t\t\t\t\tplaceholder=\"Votre Article\"\n\t\t\t\t\trequired\n\t\t\t\t/>\n\n\t\t\t\t<button onClick={showState} className=\"btn-form\">\n\t\t\t\t\tPoster l'article\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t</>\n\t);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}